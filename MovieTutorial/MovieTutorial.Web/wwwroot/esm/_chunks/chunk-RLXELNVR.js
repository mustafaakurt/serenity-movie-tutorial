import{c as r,e as Le,f as o,g as C,h as J,i as n}from"./chunk-THKE7DQS.js";var j=Le((wt,de)=>{de.exports=Serenity.Extensions});var Q=o(n(),1);var h=class h extends Q.ColumnsBase{};r(h,"GenreColumns"),h.columnsKey="MovieDB.Genre",h.Fields=(0,Q.fieldsProxy)();var z=h;var g=o(n(),1);var l=class l{static getLookup(){return(0,g.getLookup)("MovieDB.Genre")}static getLookupAsync(){return J(this,null,function*(){return(0,g.getLookupAsync)("MovieDB.Genre")})}};r(l,"GenreRow"),l.idProperty="GenreId",l.nameProperty="Name",l.localTextPrefix="MovieDB.Genre",l.lookupKey="MovieDB.Genre",l.deletePermission="Administration:General",l.insertPermission="Administration:General",l.readPermission="Administration:General",l.updatePermission="Administration:General",l.Fields=(0,g.fieldsProxy)();var U=l;var W=o(n(),1),V;(e=>(e.baseUrl="MovieDB/Genre",e.Methods={Create:"MovieDB/Genre/Create",Update:"MovieDB/Genre/Update",Delete:"MovieDB/Genre/Delete",Retrieve:"MovieDB/Genre/Retrieve",List:"MovieDB/Genre/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(a,i,c){return(0,W.serviceRequest)(e.baseUrl+"/"+t,a,i,c)}})))(V||(V={}));var Z=o(n(),1);var I,T,M=class{format(s){let e=s.value;if(!e||!e.length)return"";let t=I==null?void 0:I.itemById;return t?e.map(a=>{var i=t[a];return s.escape(i==null?a:i.Name)}).join(", "):(T!=null||(T=U.getLookupAsync().then(a=>{var i;I=a;try{(i=s.grid)==null||i.invalidate()}finally{I=null,T=null}}).catch(()=>T=null)),'<i class="fa fa-spinner"></i>')}};r(M,"GenreListFormatter"),M=C([Z.Decorators.registerFormatter("MovieTutorial.GenreListFormatter")],M);var w=o(n(),1);var $=o(n(),1),X=(t=>(t[t.Film=1]="Film",t[t.TvSeries=2]="TvSeries",t[t.MiniSeries=3]="MiniSeries",t))(X||{});$.Decorators.registerEnumType(X,"MovieTutorial.MovieDB.MovieKind","MovieDB.MovieKind");var A=class A extends w.ColumnsBase{};r(A,"MovieColumns"),A.columnsKey="MovieDB.Movie",A.Fields=(0,w.fieldsProxy)();var _=A;var te=o(n(),1);var m=class m{};r(m,"MovieRow"),m.idProperty="MovieId",m.nameProperty="Title",m.localTextPrefix="MovieDB.Movie",m.deletePermission="Administration:General",m.insertPermission="Administration:General",m.readPermission="Administration:General",m.updatePermission="Administration:General",m.Fields=(0,te.fieldsProxy)();var ee=m;var oe=o(n(),1),re;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(a,i,c){return(0,oe.serviceRequest)(e.baseUrl+"/"+t,a,i,c)}})))(re||(re={}));var N=o(n(),1);var ie=o(n(),1),F=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(F||{});ie.Decorators.registerEnumType(F,"MovieTutorial.MovieDB.Gender");var b=class b extends N.ColumnsBase{};r(b,"PersonColumns"),b.columnsKey="MovieDB.Person",b.Fields=(0,N.fieldsProxy)();var se=b;var G=o(n(),1);var u=class u{static getLookup(){return(0,G.getLookup)("MovieDB.Person")}static getLookupAsync(){return J(this,null,function*(){return(0,G.getLookupAsync)("MovieDB.Person")})}};r(u,"PersonRow"),u.idProperty="PersonId",u.nameProperty="FullName",u.localTextPrefix="MovieDB.Person",u.lookupKey="MovieDB.Person",u.deletePermission="Administration:General",u.insertPermission="Administration:General",u.readPermission="Administration:General",u.updatePermission="Administration:General",u.Fields=(0,G.fieldsProxy)();var k=u;var ae=o(n(),1),ne;(e=>(e.baseUrl="MovieDB/Person",e.Methods={Create:"MovieDB/Person/Create",Update:"MovieDB/Person/Update",Delete:"MovieDB/Person/Delete",Retrieve:"MovieDB/Person/Retrieve",List:"MovieDB/Person/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(a,i,c){return(0,ae.serviceRequest)(e.baseUrl+"/"+t,a,i,c)}})))(ne||(ne={}));var E=o(n(),1);var P=class P extends E.PrefixedContext{constructor(s){if(super(s),!P.init){P.init=!0;var e=E.StringEditor;(0,E.initFormType)(P,["Name",e])}}};r(P,"GenreForm"),P.formKey="MovieDB.Genre";var pe=P;var Y=o(n(),1);var O=class O extends Y.ColumnsBase{};r(O,"MovieCastColumns"),O.columnsKey="MovieDB.MovieCast",O.Fields=(0,Y.fieldsProxy)();var K=O;var f=o(n(),1);var S=class S extends f.PrefixedContext{constructor(s){if(super(s),!S.init){S.init=!0;var e=f.LookupEditor,t=f.StringEditor;(0,f.initFormType)(S,["PersonId",e,"Character",t])}}};r(S,"MovieCastForm"),S.formKey="MovieDB.MovieCast";var H=S;var ce=o(n(),1);var v=class v{};r(v,"MovieCastRow"),v.idProperty="MovieCastId",v.nameProperty="Character",v.localTextPrefix="MovieDB.MovieCast",v.deletePermission="Administration:General",v.insertPermission="Administration:General",v.readPermission="Administration:General",v.updatePermission="Administration:General",v.Fields=(0,ce.fieldsProxy)();var q=v;var ue=o(n(),1),le;(e=>(e.baseUrl="MovieDB/MovieCast",e.Methods={Create:"MovieDB/MovieCast/Create",Update:"MovieDB/MovieCast/Update",Delete:"MovieDB/MovieCast/Delete",Retrieve:"MovieDB/MovieCast/Retrieve",List:"MovieDB/MovieCast/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(a,i,c){return(0,ue.serviceRequest)(e.baseUrl+"/"+t,a,i,c)}})))(le||(le={}));var Re=o(n(),1),ye=o(j(),1);var me=o(n(),1),ve=o(j(),1);var x=class extends ve.GridEditorDialog{constructor(){super(...arguments);this.form=new H(this.idPrefix)}getFormKey(){return H.formKey}getNameProperty(){return q.nameProperty}getLocalTextPrefix(){return q.localTextPrefix}};r(x,"MovieCastEditDialog"),x=C([me.Decorators.registerClass("MovieTutorial.MovieDB.MovieCastEditDialog")],x);var D=class extends ye.GridEditorBase{getColumnsKey(){return K.columnsKey}getDialogType(){return x}getLocalTextPrefix(){return q.localTextPrefix}constructor(s){super(s)}getAddButtonCaption(){return"Add"}validateEntity(s,e){if(!super.validateEntity(s,e))return!1;var t=e!=null?e:s[this.getIdProperty()];return k.getLookupAsync().then(a=>{var c;var i=(c=this.view)==null?void 0:c.getItemById(t);i&&(i.PersonFullName=a.itemById[s.PersonId].FullName,this.view.updateItem(t,i))}),!0}};r(D,"MovieCastEditor"),D=C([Re.Decorators.registerEditor("MovieTutorial.MovieDB.MovieCastEditor")],D);var p=o(n(),1);var B=class B extends p.PrefixedContext{constructor(s){if(super(s),!B.init){B.init=!0;var e=p.StringEditor,t=p.TextAreaEditor,a=D,i=p.IntegerEditor,c=p.DateEditor,qe=p.LookupEditor,Be=p.EnumEditor;(0,p.initFormType)(B,["Title",e,"Description",t,"CastList",a,"Storyline",t,"Year",i,"ReleaseDate",c,"GenreList",qe,"Runtime",i,"Kind",Be])}}};r(B,"MovieForm"),B.formKey="MovieDB.Movie";var fe=B;var De=o(n(),1);var R=class R{};r(R,"MovieGenresRow"),R.idProperty="MovieGenreId",R.localTextPrefix="MovieDB.MovieGenres",R.deletePermission="Administration:General",R.insertPermission="Administration:General",R.readPermission="Administration:General",R.updatePermission="Administration:General",R.Fields=(0,De.fieldsProxy)();var xe=R;var Pe=o(n(),1),Me;(e=>(e.baseUrl="MovieDB/MovieGenres",e.Methods={Create:"MovieDB/MovieGenres/Create",Update:"MovieDB/MovieGenres/Update",Delete:"MovieDB/MovieGenres/Delete",Retrieve:"MovieDB/MovieGenres/Retrieve",List:"MovieDB/MovieGenres/List"},["Create","Update","Delete","Retrieve","List"].forEach(t=>{e[t]=function(a,i,c){return(0,Pe.serviceRequest)(e.baseUrl+"/"+t,a,i,c)}})))(Me||(Me={}));var d=o(n(),1);var L=class L extends d.PrefixedContext{constructor(s){if(super(s),!L.init){L.init=!0;var e=d.StringEditor,t=d.DateEditor,a=d.EnumEditor,i=d.IntegerEditor;(0,d.initFormType)(L,["FirstName",e,"LastName",e,"BirthDate",t,"BirthPlace",e,"Gender",a,"Height",i])}}};r(L,"PersonForm"),L.formKey="MovieDB.Person";var Se=L;export{z as a,pe as b,U as c,V as d,_ as e,fe as f,ee as g,re as h,se as i,Se as j,k,ne as l};
//# sourceMappingURL=chunk-RLXELNVR.js.map
